generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model VanillaItem {
  uniqueId            Int              @id @map("unique_id")
  id                  Int?             @default(0)
  name                Json?            @db.Json
  ingameDescription   Json?            @map("ingame_description") @db.Json
  quality             Int?
  icon                Json?            @db.Json
  description         String?
  type                String?          @db.VarChar(45)
  opening             Json?            @db.Json
  activeType          String?          @map("active_type") @db.VarChar(45)
  charges             Json?            @db.Json
  isQuest             Int              @default(0) @map("is_quest")
  pools_copy          Json?            @db.Json
  learnMore           String?          @map("learn_more")
  bugs                String?
  bookOfVirtues       String?          @map("book_of_virtues")
  judasBirthright     String?          @map("judas_birthright")
  transformations_old Json?            @db.Json
  tags_copy           Json?            @db.Json
  tags                Tag[]
  keywords            String?
  transformations     Transformation[] @relation("TransformationToVanillaItem")
  pools               Pool[]           

  @@map("vanilla_items")
}

model Transformation {
  id               Int           @id @default(autoincrement())
  transformationId String?       @unique @map("transformation_id") @db.VarChar(40)
  name             Json?         @db.Json
  items            VanillaItem[] @relation("TransformationToVanillaItem")

  @@map("transformations")
}

model Pool {
  id               Int           @id @default(autoincrement())
  poolId           String?       @unique @map("pool_id") @db.VarChar(40)
  name             Json?         @db.Json
  items            VanillaItem[] 

  @@map("pools")
}

model Tag {
  id               Int           @id @default(autoincrement())
  tagId           String?        @unique @map("tag_id") @db.VarChar(40)
  name             Json?         @db.Json
  items            VanillaItem[] 

  @@map("tags")
}
